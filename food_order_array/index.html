<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
    </style>
    <title>Document</title>
</head>
<body>
    <div id="menu"></div>
        
    <script>
        const foodNames  = [ 'Pizza',   'Salad',    'Soup']
        const foodPrices = [ 100.00 ,    75.00 ,    25.50 ]
        const foodImages = [ '0.jpg',   '1.jpg',   '2.jpg']

        let orderTotal   = 0
        let discountTax = 45.00
        let discountTotal = 0

        function renderMenu () {
            let html = `<table cellpadding="10" class="table table-striped table-hover" style="max-width: 600px; margin: auto; border: 5px solid  #e6e6e6">`

            for (let i=0; i<foodNames.length; i++ ) {
                    html += `<tr>`

                        html += `<td><img src="${foodImages[i]}" height="150"></td>`
                html += `<td style="width: 150px; text-align: center;" class="align-middle fw-bold">${foodNames[i]}</td>`
                html += `<td style="width: 100px; text-align: right;" class="align-middle">${foodPrices[i].toFixed(2)}</td>`   
                html += `<td class="align-middle"><button onclick="addItem(${i})" class="btn btn-warning">+ ADD</button></td>`
                        
                        html += `</tr>`
                    }

                    html += `<tr>`
                        html += `<td class="fw-bold">Total</td>`
                        html += `<td id="cellTotal" colspan="3" style="text-align: right;"></td>` 
                    html += `</tr>`

                    html += `<tr>`
                        html += `<td class="fw-bold">Total with discount <br> (-45 lei) from 500 lei</td>`
                        html += `<td  id="cellDiscount" colspan="3" style="text-align: right;"></td>` 
                    html += `</tr>`

                html += `</table>`
                menu.innerHTML = html

        }
        function addItem(i) {
            let quantity = +prompt(`How many "${foodNames [i]}" do you want?`)
            let total = quantity * foodPrices [i]
            let confirmed = confirm(`${foodNames [i]} x ${quantity} = ${total} \n confirm?` )

            if(confirmed) {
                orderTotal += total 

                cellTotal.innerHTML = orderTotal.toFixed(2)
            } else {
                 
            }
            if (orderTotal >= 500) {
                discountTotal = orderTotal - discountTax
                cellDiscount.innerHTML = discountTotal.toFixed(2)
            } else {
                discountTotal = orderTotal
                cellDiscount.innerHTML = discountTotal.toFixed(2)
            }

        }

        renderMenu() 


    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>
</html>
